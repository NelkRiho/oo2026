<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="utf-8">
    <script>
        class Planeet {
            constructor(nimi, värv, orbiit, kiirus) {
                this.nimi = nimi;
                this.värv = värv;
                this.orbiit = orbiit;
                this.kiirus = kiirus;
                this.nurk = 0;
            }
        }

        class Haldur {
            constructor() {
                this.planeedid = [];
                this.idx = 0;
            }
            lisa(p)    { this.planeedid.push(p); }
            järgmine() { this.idx = (this.idx + 1) % this.planeedid.length; }
            praegune() { return this.planeedid[this.idx]; }
        }

        let haldur = new Haldur();
        haldur.lisa(new Planeet('Merkuur', 'gray',        60, 0.030));
        haldur.lisa(new Planeet('Veenus',  'orange',     100, 0.020));
        haldur.lisa(new Planeet('Maa',     'dodgerblue', 140, 0.015));
        haldur.lisa(new Planeet('Marss',   'red',        180, 0.011));

        function joonista() {
            let canvas = document.getElementById('tahvel');
            let ctx = canvas.getContext('2d');

            ctx.fillStyle = 'black';
            ctx.fillRect(0, 0, 400, 400);

            ctx.beginPath();
            ctx.arc(200, 200, 15, 0, Math.PI * 2);
            ctx.fillStyle = 'yellow';
            ctx.fill();

            for (let p of haldur.planeedid) {
                p.nurk += p.kiirus;
                let x = 200 + Math.cos(p.nurk) * p.orbiit;
                let y = 200 + Math.sin(p.nurk) * p.orbiit;

                ctx.beginPath();
                ctx.arc(x, y, 10, 0, Math.PI * 2);
                ctx.fillStyle = p === haldur.praegune() ? 'white' : p.värv;
                ctx.fill();

                ctx.fillStyle = 'white';
                ctx.textAlign = 'center';
                ctx.fillText(p.nimi, x, y + 20);
            }

            document.getElementById('info').innerText = 'Valitud: ' + haldur.praegune().nimi;
            requestAnimationFrame(joonista);
        }
    </script>
</head>
<body onload="joonista()" style="background:black; color:white; font-family:monospace; text-align:center;">
    <p id="info">—</p>
    <canvas id="tahvel" width="400" height="400"></canvas><br>
    <button onclick="haldur.järgmine()">Järgmine ▶</button>
</body>
</html>
